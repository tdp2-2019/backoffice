(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/driver-license-icon.2be120e3.jpg"},31:function(e,t,a){e.exports=a.p+"static/media/patente.e0605b58.png"},34:function(e,t,a){e.exports=a(50)},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(1),i=a(2),c=a(4),o=a(3),s=a(5),l=a(0),u=a.n(l),p=a(22),m=a.n(p),h=a(13),d=a(16),g=a(8);var f=function(e){var t=e.text,a=e.iconUrl,n=e.style;return u.a.createElement("span",{className:"TextWithIcon",style:n},u.a.createElement("img",{src:a,alt:t}),t)},v={dark:"Dark",light:"Light"},b=u.a.createContext({theme:"dark",language:"en"}),j={width:100,marginBottom:20},O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).handleOnChangeTheme=function(e){(0,a.context.setTheme)(e.target.value)},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.context.theme;return u.a.createElement("nav",{className:"Sidebar"},u.a.createElement("p",null,"C O R R E A P P"),u.a.createElement(h.c,{to:"/",exact:!0,className:"Sidebar-item",activeClassName:"Sidebar-selected"},u.a.createElement(f,{text:"Choferes",iconUrl:"https://png.pngtree.com/svg/20170703/my_driver_515634.png",style:j})))}}]),t}(l.Component);O.contextType=b;var E=O,y="SEARCH_ARTISTS";var C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).handleOnInput=function(e){var t=e.target.value,n=a.props.onSearch;n&&n(t)},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.style;return u.a.createElement("div",{className:"SearchBar",style:e},u.a.createElement("img",{src:"https://static.thenounproject.com/png/101791-200.png",alt:"search"}),u.a.createElement("input",{onInput:this.handleOnInput,placeholder:"Filtrar"}))}}]),t}(l.Component),_=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.subtitle,n=e.showSearchBar,r=e.onSearch;return u.a.createElement("div",{className:"Header"},u.a.createElement("h1",null,t,u.a.createElement("span",null,a)),n&&u.a.createElement(C,{onSearch:r,style:{position:"absolute",top:6,right:30}}))}}]),t}(l.Component),k=(l.Component,function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={hasError:!1},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.subtitle,n=e.showSearchBar,r=e.onSearch,i=e.children;return u.a.createElement("div",{className:"Screen"},u.a.createElement(_,{title:t,subtitle:a,showSearchBar:n,onSearch:r}),i)}}]),t}(l.Component)),S=Object(g.b)(null,function(e){return{onSearch:function(t){return e({type:y,searchText:t})}}})(k),N="TOGGLE_ARTIST_AS_FAVORITE";function x(e){return{type:N,artistId:e}}var P=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.source,a=e.name,n=e.favorited;return u.a.createElement("div",{className:"ArtistImage"},u.a.createElement("img",{src:t,alt:a,className:"ArtistImage-image"}),n&&u.a.createElement("img",{src:"https://cdn2.iconfinder.com/data/icons/basic-ui-flat/605/145_-_Valid-512.png",className:"ArtistImage-fav"}))}}]),t}(l.Component),T=a(33),w=document.getElementById("modal-root"),I=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.context.theme,t=this.props,a=t.title,n=t.onCloseRequested,r=t.children,i="light"===e?"https://www.materialui.co/materialIcons/navigation/close_black_1024x1024.png":"https://atlona.com/wp-content/uploads/2016/08/close-button.png";return m.a.createPortal(u.a.createElement("div",{className:"Modal ".concat(e)},u.a.createElement("div",{className:"Modal-box"},u.a.createElement("h2",null,a),u.a.createElement("img",{src:i,onClick:n,className:"Modal-close",alt:"close button"}),u.a.createElement("div",{className:"Modal-content"},r))),w)}}]),t}(l.Component);I.contextType=b;var A=I,B=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.genres,a=void 0===t?[]:t,n=Object(T.a)(e,["genres"]);return u.a.createElement(A,n,a.map(function(e){return u.a.createElement("span",{className:"Genre-pill",key:e},e)}))}}]),t}(l.Component),F=(l.Component,function(e){return e.artists.data}),U=function(e){return e.favorites},R=function(e){return e.search.text},M=function(e){return e.artists.isFetching},D=function(e){return Object.keys(U(e)).length},L=function(e,t){return U(e)[t]},z=function(e){var t=F(e),a=R(e),n=new RegExp(a,"i");return t.filter(function(e){return n.test(e.name)})},V=a(17),G=a.n(V),J="REQUEST_ARTISTS",H="RECEIVE_ARTISTS";function X(e){return{type:H,artists:e}}function q(){return function(e){return e({type:J}),fetch("https://correapp-api.herokuapp.com/drivers").then(function(e){return e.json()}).then(function(e){return e.map(Q)}).then(function(t){return e(X(t))})}}var Q=function(e){var t=e.id,a=e.name,n=(e.images,e.photo_url),r=(e.licensenumber,e.carcolour),i=e.license_photo_url,c=e.car_plate_photo_url,o=e.status,s=e.brand,l=e.carlicenseplate,u=e.address,p=e.dni,m=e.email,h=e.lastname,d=e.model,g=e.rating,f=e.signup_date,v=e.telephone;return{id:t,name:a+" "+h,car_plate_photo_url:c,license_photo_url:i,status:o,imageUrl:n||"https://api.adorable.io/avatars/285/".concat(t),followersCount:0,genres:[],rating:g,car:s+" "+d+" "+r,address:u,dni:p,carlicenseplate:l,email:m,signup_date:f,telephone:v}},W=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={currentPage:0},a.goToNext=function(){a.isLastPage()||a.setState(function(e){return{currentPage:e.currentPage+1}})},a.goToPrev=function(){a.isFirstPage()||a.setState(function(e){return{currentPage:e.currentPage-1}})},a.isLastPage=function(){return a.state.currentPage===a.getNumberOfPages()-1},a.isFirstPage=function(){return 0===a.state.currentPage},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){e.items&&this.props.items&&e.items.length!==this.props.items.length&&this.setState({currentPage:0})}},{key:"getNumberOfPages",value:function(){var e=this.props,t=e.items,a=e.pageSize;return Math.ceil(t.length/a)}},{key:"getItemsForCurrentPage",value:function(){var e=this.props,t=e.items,a=e.pageSize,n=a*this.state.currentPage,r=Math.min(n+a,t.length);return t.slice(n,r)}},{key:"render",value:function(){var e=this,t=this.state.currentPage,a=this.getNumberOfPages(),n=this.isFirstPage(),r=this.isLastPage(),i=this.getItemsForCurrentPage();return u.a.createElement("div",{className:"Paginator"},u.a.createElement("div",{className:"Paginator-content"},i.map(function(t){return e.props.renderItem(t)})),u.a.createElement("div",{className:"Paginator-controls"},!n&&u.a.createElement("a",{onClick:this.goToPrev},"Anterior"),!r&&u.a.createElement("a",{onClick:this.goToNext},"Siguiente"),a>1&&u.a.createElement("span",null,"P\xe1gina ",t+1," de ",a)))}}]),t}(l.Component),$=function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).call(this,e))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"TripBox"},u.a.createElement("p",{className:"client"},this.props.client),u.a.createElement(f,{text:"Precio",iconUrl:"https://image.flaticon.com/icons/png/512/1724/1724251.png",style:{marginBottom:25}}),u.a.createElement("p",null,"$ ",this.props.price),u.a.createElement(f,{text:"Duraci\xf3n",iconUrl:"https://image.flaticon.com/icons/png/512/1680/1680110.png",style:{marginBottom:25}}),u.a.createElement("p",null,Math.floor(this.props.duration/60)+":"+this.props.duration%60+" hs."),u.a.createElement(G.a,{starCount:5,value:null!=this.propsrating?this.propsrating.rating:0}),u.a.createElement(f,{text:"Comentario",iconUrl:"https://image.flaticon.com/icons/png/512/1276/1276476.png",style:{marginBottom:25}}),u.a.createElement("p",null,this.props.comment))}}]),t}(l.Component),K=a(30),Y=a.n(K),Z=a(31),ee=a.n(Z),te=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).try=function(){return console.log(a.props.artist),u.a.createElement(h.b,{to:"/"+a.props.artist.id},u.a.createElement("button",{id:"b1"},"Click me"))},a.rendertrips=function(e){var t=[];console.log(e);for(var a=0;a<e.length;a++)t.push(u.a.createElement($,{key:e[a].id,client:e[a].client,price:e[a].price,duration:e[a].duration,rating:e[a].rating,comment:e[a].comment}));return t},a.handleConfirm=function(){fetch("https://correapp-api.herokuapp.com/drivers/"+a.props.artist.id,{method:"PUT",body:JSON.stringify({status:"Confirmado"}),headers:{"Content-Type":"application/json"}})},a.state={viajes:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),fetch("https://correapp-api.herokuapp.com/trips?status=finished&driver_id="+this.props.artist.id).then(function(e){return e.json()}).then(function(t){console.log(t),console.log(t.length),e.setState({viajes:t})}).catch(function(){console.log("error"),e.setState({viajes:[]})})}},{key:"render",value:function(){var e=this.props,t=e.artist,a=(e.favorited,e.toggleFavorite,t.imageUrl),n=t.name,r=(t.followersCount,t.address,t.dni,t.carlicenseplate,t.genres,t.rating),i=(t.car,t.car_plate_photo_url),c=t.license_photo_url,o=t.status;return u.a.createElement("div",null,u.a.createElement("div",{className:"Driver-profile"},u.a.createElement(P,{source:a,favorited:"No confirmado"!=o}),u.a.createElement("h3",null,n),u.a.createElement(G.a,{starCount:5,value:r||0}),u.a.createElement(f,{text:"".concat(this.state.viajes.length," viajes realizados"),iconUrl:"https://image.flaticon.com/icons/png/512/747/747835.png",style:{marginBottom:25}}),u.a.createElement(f,{text:"Licencia de conducir",iconUrl:Y.a,style:{marginBottom:25}}),u.a.createElement("div",{className:"fill image-driver-profile"},u.a.createElement("img",{src:c,alt:"No ingresado"})),u.a.createElement(f,{text:"Patente del auto",iconUrl:ee.a,style:{marginBottom:25}}),u.a.createElement("div",{className:"fill image-driver-profile"},u.a.createElement("img",{src:i,alt:"No ingresado"})),u.a.createElement(h.b,{to:"/"+this.props.artist.id},u.a.createElement("button",{id:"b1",disabled:"No confirmado"!=o,onClick:this.handleConfirm},"Confirmar registro"))),u.a.createElement("div",{className:"Driver-trips"},u.a.createElement("h3",null,"Viajes"),this.rendertrips(this.state.viajes)))}}]),t}(l.Component),ae=Object(g.b)(function(e,t){var a=t.artist;return{favorited:L(e,a.id)}},function(e,t){var a=t.artist;return{toggleFavorite:function(){return e(x(a.id))}}})(te),ne=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.artists;return u.a.createElement(W,{items:e,pageSize:5,renderItem:function(e){return u.a.createElement(ae,{key:e.id,artist:e})}})}}]),t}(l.Component),re=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).state={driver:{}},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params;console.log(this.props.match.params.driverId),fetch("https://correapp-api.herokuapp.com/drivers/"+this.props.match.params.driverId).then(function(e){return e.json()}).then(function(e){return ie(e)}).then(function(t){console.log(t),e.setState({driver:t})})}},{key:"render",value:function(){return u.a.createElement("div",{className:"Screen"},u.a.createElement(ne,{artists:[this.state.driver]}))}}]),t}(l.Component),ie=function(e){var t=e.id,a=e.name,n=(e.images,e.photo_url),r=(e.licensenumber,e.carcolour),i=e.license_photo_url,c=e.car_plate_photo_url,o=e.status,s=e.brand,l=e.carlicenseplate,u=e.address,p=e.dni,m=e.email,h=e.lastname,d=e.model,g=e.rating,f=e.signup_date,v=e.telephone;return{id:t,name:a+" "+h,car_plate_photo_url:c,license_photo_url:i,status:o,imageUrl:n||"https://api.adorable.io/avatars/285/".concat(t),followersCount:0,genres:[],rating:g,car:s+" "+d+" "+r,address:u,dni:p,carlicenseplate:l,email:m,signup_date:f,telephone:v}},ce=re,oe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).try=function(){return console.log(a.props.artist),u.a.createElement(h.b,{to:"/"+a.props.artist.id},u.a.createElement("button",{id:"b1"},"Click me"))},a.state={viajes:0},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),fetch("https://correapp-api.herokuapp.com/trips?status=finished&driver_id="+this.props.artist.id).then(function(e){return e.json()}).then(function(t){console.log(t),console.log(t.length),e.setState({viajes:null!=t.length?t.length:0})}).catch(function(){console.log("error"),e.setState({viajes:0})})}},{key:"render",value:function(){var e=this.props,t=e.artist,a=(e.favorited,e.toggleFavorite,t.imageUrl),n=t.name,r=(t.followersCount,t.address,t.dni,t.carlicenseplate,t.genres,t.rating),i=t.car,c=t.status;return console.log(c),u.a.createElement("div",{className:"ArtistBox"},u.a.createElement(P,{source:a,favorited:"No confirmado"!=c}),u.a.createElement("h3",null,n),u.a.createElement(G.a,{starCount:5,value:r||0}),u.a.createElement(f,{text:"".concat(this.state.viajes," viajes realizados"),iconUrl:"https://image.flaticon.com/icons/png/512/747/747835.png",style:{marginBottom:25}}),u.a.createElement("h4",{style:{marginBottom:25}},i),u.a.createElement(h.b,{to:"/"+this.props.artist.id},u.a.createElement("button",{id:"b1"},"Ver perfil")))}}]),t}(l.Component),se=Object(g.b)(function(e,t){var a=t.artist;return{favorited:L(e,a.id)}},function(e,t){var a=t.artist;return{toggleFavorite:function(){return e(x(a.id))}}})(oe),le=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.artists;return u.a.createElement(W,{items:e,pageSize:5,renderItem:function(e){return u.a.createElement(se,{key:e.id,artist:e})}})}}]),t}(l.Component),ue=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchArtists()}},{key:"render",value:function(){var e=this.props,t=e.artists,a=e.isFetching,n=e.searchText,r=e.favoritesCount,i=e.filteredArtists,c=!a&&n&&(!t||0===t.length),o=r?"(".concat(r," favorites)"):"";return u.a.createElement(S,{title:"Choferes",subtitle:o,showSearchBar:!0},a&&u.a.createElement("h2",null,"Cargando..."),c&&u.a.createElement("h2",null,"No se encontraron choferes"),!c&&u.a.createElement(le,{artists:i}))}}]),t}(l.Component),pe=Object(g.b)(function(e){return{isFetching:M(e),artists:F(e),searchText:R(e),favoritesCount:D(e),filteredArtists:z(e)}},function(e){return{fetchArtists:function(){e(q())}}})(ue),me=(a(49),a(15)),he=a(32),de={data:[],isFetching:!1};var ge=a(21),fe={};var ve={text:void 0};var be=Object(me.c)({artists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(n.a)({},e,{isFetching:!0});case H:var a=t.artists;return Object(n.a)({},e,{isFetching:!1,data:a});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var a=t.artistId;return Object(n.a)({},e,Object(ge.a)({},a,!e[t.artistId]));default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var a=t.searchText;return Object(n.a)({},e,{text:a});default:return e}}}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d,Oe=Object(me.e)(be,je(Object(me.a)(he.a))),Ee=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(o.a)(t).call(this,e))).setTheme=function(e){a.setState(function(t){return{settings:Object(n.a)({},t.settings,{theme:e})}})},a.state={settings:{theme:v.light,setTheme:a.setTheme}},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.settings;return u.a.createElement(b.Provider,{value:e},u.a.createElement(h.a,null,u.a.createElement("div",{className:"App ".concat(e.theme)},u.a.createElement(E,null),u.a.createElement(d.a,{path:"/",exact:!0,component:pe}),u.a.createElement(d.a,{path:"/:driverId",component:ce}))))}}]),t}(l.Component),ye=document.getElementById("root");m.a.render(u.a.createElement(g.a,{store:Oe},u.a.createElement(Ee,null)),ye)}},[[34,1,2]]]);
//# sourceMappingURL=main.b2876f73.chunk.js.map